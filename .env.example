# =============================================================================
# KasGate Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment.
# All values shown are defaults or examples.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Port the server listens on
PORT=3001

# Environment mode (development | production)
NODE_ENV=production

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# SQLite database file path (relative to project root)
# The directory must exist and be writable
DATABASE_URL=./data/kasgate.db

# -----------------------------------------------------------------------------
# Kaspa Network Configuration
# -----------------------------------------------------------------------------

# Network to connect to (mainnet | testnet-10)
# - mainnet: Production network, uses 'kaspa:' address prefix
# - testnet-10: Test network, uses 'kaspatest:' address prefix
KASPA_NETWORK=mainnet

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------

# Allowed origins for API requests (comma-separated)
# - Set to "*" to allow all origins (not recommended for production)
# - Leave empty or unset to allow all origins (development default)
# - Set to specific origins for production:
#   CORS_ALLOWED_ORIGINS=https://yoursite.com,https://app.yoursite.com
CORS_ALLOWED_ORIGINS=*

# -----------------------------------------------------------------------------
# Security Notes
# -----------------------------------------------------------------------------

# Rate Limiting (configured in code, not env vars):
# - General: 1000 requests/minute per IP
# - Merchant creation: 10/hour per IP
# - Session creation: 100/minute per IP

# API Keys:
# - Generated automatically on merchant registration
# - Stored as SHA-256 hash (plaintext shown only once)
# - Use X-API-Key header for authenticated requests

# Webhook Security:
# - Webhooks signed with HMAC-SHA256
# - Signature sent in X-KasGate-Signature header
# - Timestamp in X-KasGate-Timestamp for replay protection
# - Delivery ID in X-KasGate-Delivery-Id for idempotency

# -----------------------------------------------------------------------------
# Production Checklist
# -----------------------------------------------------------------------------
# [ ] Set NODE_ENV=production
# [ ] Set KASPA_NETWORK=mainnet
# [ ] Configure CORS_ALLOWED_ORIGINS for your domains
# [ ] Ensure data directory has proper permissions
# [ ] Set up database backups
# [ ] Configure reverse proxy (nginx) with SSL
# [ ] Enable webhook HTTPS verification
